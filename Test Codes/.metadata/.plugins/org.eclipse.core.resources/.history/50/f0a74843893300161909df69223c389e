/*
 * movingArray.c
 *
 *  Created on: Jun 16, 2016
 *      Author: Aniket
 */
#include "movingArray.h"

float movingArray[movingArrayFrequency] = {0};
float sum = 0;
long int index = 0;

float avg(float in) {
	sum += in;
	return sum/index;
}

float movingArrayOut(float in) {
	if(index < movingArrayFrequency) {
		movingArray[index] = in;
		index++;
		return avg(in);
	}
	sum = sum - movingArray[index%10];
	sum += in;
	movingArray[index%10] = in;
	index++;
	return sum/movingArrayFrequency;
}

